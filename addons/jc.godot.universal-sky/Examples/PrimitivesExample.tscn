[gd_scene load_steps=15 format=2]

[ext_resource path="res://addons/jc.godot.universal-sky-common/Examples/Scenes/PrimitivesBase.tscn" type="PackedScene" id=1]
[ext_resource path="res://addons/jc.godot.universal-sky/Code/Sky/SkyManager.gd" type="Script" id=2]
[ext_resource path="res://addons/jc.godot.universal-sky-common/Shaders/Skypass.shader" type="Shader" id=3]
[ext_resource path="res://addons/jc.godot.universal-sky-common/Shaders/Fogpass.shader" type="Shader" id=4]
[ext_resource path="res://addons/jc.godot.universal-sky-common/Scenes/Moon/MoonRender.tscn" type="PackedScene" id=5]
[ext_resource path="res://addons/jc.godot.universal-sky-common/Assets/ThirdParty/Graphics/Textures/MilkyWay/Milkyway.jpg" type="Texture" id=6]
[ext_resource path="res://addons/jc.godot.universal-sky-common/Assets/ThirdParty/Graphics/Textures/MilkyWay/StarField.jpg" type="Texture" id=7]
[ext_resource path="res://addons/jc.godot.universal-sky-common/Assets/MyAssets/Graphics/Textures/noise.jpg" type="Texture" id=8]

[sub_resource type="Environment" id=1]
glow_enabled = true
glow_bicubic_upscale = true

[sub_resource type="ViewportTexture" id=2]

[sub_resource type="ShaderMaterial" id=3]
render_priority = -125
shader = ExtResource( 3 )
shader_param/_sun_disk_color = Color( 1.99219, 1.08267, 0.280152, 1 )
shader_param/_sun_disk_size = 0.015
shader_param/_sun_direction = Vector3( -1e-07, 0.544639, -0.838671 )
shader_param/_moon_color = Color( 1, 1, 1, 0.3 )
shader_param/_moon_size = 0.09
shader_param/_moon_direction = Vector3( -1e-07, 1, -1e-07 )
shader_param/_moon_matrix = Basis( 0, -1, -1e-07, -1e-07, -1e-07, 1, -1, 1e-14, -1e-07 )
shader_param/_color_correction_params = Vector3( 0, 0, 1.3 )
shader_param/_ground_color = Color( 0.3, 0.3, 0.3, 1 )
shader_param/_background_color = Color( 0.19, 0.19, 0.19, 0.3 )
shader_param/_stars_field_color = Color( 1, 1, 1, 1 )
shader_param/_stars_scintillation = 1.0
shader_param/_stars_scintillation_speed = 0.024
shader_param/_deep_space_matrix = Basis( 1, 0, 0, 0, 1, 0, 0, 0, 1 )
shader_param/_moon_texture = SubResource( 2 )
shader_param/_background_texture = ExtResource( 6 )
shader_param/_stars_field_texture = ExtResource( 7 )
shader_param/_noise_tex = ExtResource( 8 )

[sub_resource type="SphereMesh" id=4]
radial_segments = 32
rings = 16

[sub_resource type="ShaderMaterial" id=5]
render_priority = 123
shader = ExtResource( 4 )

[sub_resource type="QuadMesh" id=6]
size = Vector2( 2, 2 )

[node name="Main" type="Spatial"]

[node name="MainCam" type="Camera" parent="."]
transform = Transform( 0.864038, 0.0490734, -0.50103, 0, 0.995238, 0.0974787, 0.503427, -0.0842252, 0.859923, -6.71383, 2.04637, 9.51771 )
far = 8192.0

[node name="Spatial" parent="." instance=ExtResource( 1 )]

[node name="SunLight" type="DirectionalLight" parent="."]
transform = Transform( -1, -2.47995e-07, -1e-07, 0, 0.373975, -0.927439, 2.67397e-07, -0.927439, -0.373975, 0, -0.927439, -0.373975 )
visible = false
light_color = Color( 1, 0.384314, 0.243137, 1 )
light_energy = 0.0
shadow_enabled = true

[node name="MoonLight" type="DirectionalLight" parent="."]
transform = Transform( 0, -1, -1e-07, -0.732579, -6.80682e-08, 0.680682, -0.680682, 7.32579e-08, -0.732579, 0, 0.680682, -0.732579 )
light_color = Color( 0.572549, 0.776471, 0.956863, 1 )
light_energy = 0.294205
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 1 )

[node name="ReflectionProbe" type="ReflectionProbe" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.28389, 0 )
layers = 8
update_mode = 1
max_distance = 16384.0
extents = Vector3( 2000, 2000, 2000 )
cull_mask = 4

[node name="SkyManager" type="Node" parent="."]
script = ExtResource( 2 )
sky_visible = true
contrast_level = 0.0
tonemaping = 0.0
exposure = 1.3
ground_color = Color( 0.3, 0.3, 0.3, 1 )
use_custom_sun_moon_light_fade = false
sky_layers = 4
sun_altitude = -57.0
sun_azimuth = 0.0
sun_disk_color = Color( 0.996094, 0.541334, 0.140076, 1 )
sun_disk_multiplier = 2.0
sun_disk_size = 0.015
sun_light_path = NodePath("")
sun_light_color = Color( 0.984314, 0.843137, 0.788235, 1 )
sun_horizon_light_color = Color( 1, 0.384314, 0.243137, 1 )
sun_light_energy = 1.0
moon_altitude = 0.0
moon_azimuth = 0.0
moon_color = Color( 1, 1, 1, 0.3 )
moon_size = 0.09
moon_texture_size = 2
enable_set_moon_texture = false
moon_light_path = NodePath("")
moon_light_color = Color( 0.572549, 0.776471, 0.956863, 1 )
moon_light_energy = 0.3
deep_space_euler = Vector3( 0, 0, 0 )
background_color = Color( 0.19, 0.19, 0.19, 0.3 )
enable_set_background_texture = false
stars_field_color = Color( 1, 1, 1, 1 )
enable_set_stars_field_texture = false
stars_scintillation = 1.0
stars_scintillation_speed = 0.024
fog_visible = true
fog_layers = 4

[node name="SkyNode" type="MeshInstance" parent="SkyManager"]
transform = Transform( 10, 0, 0, 0, 10, 0, 0, 0, 10, 1e-07, 1e-07, 1e-07 )
layers = 4
material_override = SubResource( 3 )
cast_shadow = 0
extra_cull_margin = 16384.0
mesh = SubResource( 4 )
material/0 = null

[node name="FogNode" type="MeshInstance" parent="SkyManager"]
material_override = SubResource( 5 )
cast_shadow = 0
extra_cull_margin = 16384.0
mesh = SubResource( 6 )
material/0 = null

[node name="MoonRender" type="Viewport" parent="SkyManager" instance=ExtResource( 5 )]
size = Vector2( 256, 256 )
own_world = true
transparent_bg = true
msaa = 3
render_target_update_mode = 3
